<!DOCTYPE HTML>
<html>
<head>
  <meta charset="UTF-8">
  <title>Main</title>
  <style>body { 
    padding: 0; margin: 0;  }</style>
	<link rel="stylesheet" href="assets/css/styles.css">

</head>

<body>

<pre id="elm"></pre>

<script src="assets/js/elm.js"></script>

<script>
  var app = Elm.Main.init({
    node: document.getElementById('elm')
  });

  app.ports.parseString.subscribe(function(message) {
    const parseTaskCommand = (str) => str.match(/^(t(?:ask)?)\s(@(?:\S*['-]?)(?:[0-9a-zA-Z'-]+))?([\s\S]*)/i);
    const todo = {
      group : parseTaskCommand(message)[2],
      title: parseTaskCommand(message)[3]
    }
    app.ports.getTaskParsed.send(JSON.stringify(todo))
  });
  
  </script>
</body>
</html>